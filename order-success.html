<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Order Success - Filmytea</title>
    <link rel="stylesheet" href="static/style.css">
</head>
<body>
    <header class="header">
        <div class="container">
            <h1 class="logo"><a href="index.html">Filmytea</a></h1>
            <nav class="header-nav">
                <a href="posters.html" class="nav-link">Posters</a>
                <a href="cart.html" class="nav-link cart-link">
                    <span class="cart-icon">ðŸ›’</span>
                    <span id="cart-count">0</span>
                </a>
            </nav>
        </div>
    </header>

    <main class="main order-success-main">
        <div class="container">
            <section class="order-success">
                <div class="success-message">
                    <h1>ðŸŽ‰ Order Placed Successfully!</h1>
                    <p>Thank you for your order. We have received your order details.</p>
                    
                    <div class="order-details" id="order-details">
                        <!-- Order details will be loaded by JavaScript -->
                    </div>
                    
                    <div class="next-steps">
                        <h3>What's Next?</h3>
                        <ul>
                            <li>You will receive an order confirmation call/WhatsApp message shortly</li>
                            <li>Your order will be processed and shipped within 2-3 business days</li>
                            <li>You will receive tracking details once shipped</li>
                        </ul>
                    </div>
                    
                    <div class="contact-info">
                        <h3>Need Help?</h3>
                        <p>Contact us at: <a href="mailto:filmyteacare@gmail.com">filmyteacare@gmail.com</a></p>
                    </div>
                    
                    <div class="action-buttons">
                        <a href="posters.html" class="btn btn-primary">Continue Shopping</a>
                        <a href="index.html" class="btn btn-secondary">Home</a>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <footer class="footer">
        <div class="container">
            <p>&copy; 2025 Filmytea. All rights reserved.</p>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Get order ID from URL
            const urlParams = new URLSearchParams(window.location.search);
            const orderId = urlParams.get('id');
            
            if (orderId) {
                // Get order details from localStorage
                const existingOrders = JSON.parse(localStorage.getItem('filmytea_orders')) || [];
                const order = existingOrders.find(o => o.orderId === orderId);
                
                if (order) {
                    const orderDetailsHtml = `
                        <div class="order-summary-box">
                            <h2>Order Details</h2>
                            <p><strong>Order ID:</strong> ${order.orderId}</p>
                            <p><strong>Date:</strong> ${order.orderDate}</p>
                            <p><strong>Total Amount:</strong> â‚¹${order.totalAmount}</p>
                            
                            <h3>Items Ordered:</h3>
                            <ul class="ordered-items">
                                ${order.items.map(item => `
                                    <li>${item.quantity}x ${item.name} (${item.size}, ${item.frameText}) - â‚¹${item.price * item.quantity}</li>
                                `).join('')}
                            </ul>
                            
                            <h3>Delivery Address:</h3>
                            <p>${order.address}<br>
                            ${order.city}, ${order.state} - ${order.pincode}<br>
                            Phone: ${order.phone}</p>
                            
                            <p><strong>Payment Method:</strong> ${order.cashOnDelivery === 'Yes' ? 'Cash on Delivery' : 'Prepaid'}</p>
                        </div>
                    `;
                    
                    document.getElementById('order-details').innerHTML = orderDetailsHtml;
                } else {
                    document.getElementById('order-details').innerHTML = '<p>Order details not found.</p>';
                }
            } else {
                document.getElementById('order-details').innerHTML = '<p>Invalid order ID.</p>';
            }
        });
    </script>
    <script src="static/cart.js"></script>
</body>
</html>