{% extends "base.html" %}

{% block title %}Digital Wallpapers Collection - Filmytea{% endblock %}

{% block description %}Download premium digital wallpapers. High-quality HD wallpapers for mobile and desktop. Instant download after purchase.{% endblock %}

{% block keywords %}digital wallpapers, HD wallpapers, mobile wallpapers, desktop wallpapers, digital download{% endblock %}

{% block main_class %}wallpapers-main{% endblock %}

{% block content %}
<div class="container">
    <section class="wallpapers" aria-label="Wallpaper collection">
        <div class="wallpapers-grid" role="grid">
            {% for wallpaper in wallpapers %}
            <article class="wallpaper-card" role="gridcell">
                <a href="{{ url_for('wallpaper_detail', wallpaper_id=wallpaper.id) }}" class="wallpaper-link" aria-label="View {{ wallpaper.name }} wallpaper details">
                    <div class="wallpaper-image">
                        <img src="{{ wallpaper.image_url }}" 
                             alt="{{ wallpaper.name }}" 
                             loading="lazy"
                             decoding="async"
                             fetchpriority="low">
                    </div>
                    <div class="wallpaper-content">
                        <h3>{{ wallpaper.name }}</h3>
                        <p class="wallpaper-price">â‚¹{{ wallpaper.price }}</p>
                    </div>
                </a>
            </article>
            {% endfor %}
        </div>
    </section>
</div>

<style>
.wallpapers-main {
    background: #1a1a1a;
    min-height: 100vh;
    padding: 2rem 0;
}

.wallpapers {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 1rem;
}

.wallpapers-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 2rem;
    padding: 2rem 0;
}

.wallpaper-card {
    background: #2a2a2a;
    border: none;
    transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.wallpaper-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
}

.wallpaper-link {
    display: block;
    text-decoration: none;
    color: inherit;
    height: 100%;
}

.wallpaper-image {
    width: 100%;
    position: relative;
    overflow: hidden;
}

.wallpaper-image img {
    width: 100%;
    height: auto;
    display: block;
    object-fit: contain;
    border-radius: 0;
}

.wallpaper-content {
    padding: 1.5rem;
    background: #2a2a2a;
}

.wallpaper-content h3 {
    font-size: 1.1rem;
    font-weight: 600;
    color: #ffffff;
    margin: 0 0 0.5rem 0;
    line-height: 1.3;
}

.wallpaper-price {
    font-size: 1rem;
    font-weight: 600;
    color: #a6a6a6;
    margin: 0;
}

@media (max-width: 768px) {
    .wallpapers-grid {
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 1.5rem;
        padding: 1rem 0;
    }
    
    .wallpaper-content {
        padding: 1rem;
    }
}

@media (max-width: 480px) {
    .wallpapers-grid {
        grid-template-columns: 1fr;
        gap: 1rem;
    }
}
</style>
{% endblock %}

{% block scripts %}
<script>
document.addEventListener('DOMContentLoaded', function() {
    const images = document.querySelectorAll('.wallpaper-image img');
    images.forEach((img) => {
        if ('IntersectionObserver' in window) {
            const observer = new IntersectionObserver((entries) => {
                entries.forEach((entry) => {
                    if (entry.isIntersecting) {
                        const img = entry.target;
                        if (!img.src) img.src = img.dataset.src;
                        observer.unobserve(img);
                    }
                });
            });
            observer.observe(img);
        }
    });
});
</script>
{% endblock %}

{% block structured_data %}
<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "CollectionPage",
    "name": "Digital Wallpaper Collection",
    "description": "Premium digital wallpapers for instant download",
    "url": "{{ request.url }}",
    "mainEntity": {
        "@type": "ItemList",
        "numberOfItems": {{ wallpapers|length }},
        "itemListElement": [
            {% for wallpaper in wallpapers %}
            {
                "@type": "Product",
                "position": {{ loop.index }},
                "name": "{{ wallpaper.name }}",
                "description": "{{ wallpaper.name }} digital wallpaper",
                "image": "{{ wallpaper.image_url }}",
                "offers": {
                    "@type": "Offer",
                    "price": "{{ wallpaper.price }}",
                    "priceCurrency": "INR",
                    "availability": "https://schema.org/InStock"
                }
            }{% if not loop.last %},{% endif %}
            {% endfor %}
        ]
    }
}
</script>
{% endblock %}