{% extends "base.html" %}

{% block title %}Digital Wallpapers Collection - Filmytea{% endblock %}

{% block description %}Download premium digital wallpapers. High-quality HD wallpapers for mobile and desktop. Instant download after purchase.{% endblock %}

{% block keywords %}digital wallpapers, HD wallpapers, mobile wallpapers, desktop wallpapers, digital download{% endblock %}

{% block main_class %}posters-main{% endblock %}

{% block content %}
<div class="container">
    <section class="posters" aria-label="Wallpaper collection">
        <div class="posters-grid" role="grid">
            {% for wallpaper in wallpapers %}
            <article class="poster-card" role="gridcell">
                <a href="{{ url_for('wallpaper_detail', wallpaper_id=wallpaper.id) }}" class="poster-link" aria-label="View {{ wallpaper.name }} wallpaper details">
                    <div class="poster-image wallpaper-no-crop">
                        <img src="{{ wallpaper.image_url }}" 
                             alt="{{ wallpaper.name }}" 
                             loading="lazy"
                             decoding="async"
                             fetchpriority="low">
                    </div>
                    <div class="poster-content">
                        <h3>{{ wallpaper.name }}</h3>
                        <p class="wallpaper-price">â‚¹{{ wallpaper.price }}</p>
                    </div>
                </a>
            </article>
            {% endfor %}
        </div>
    </section>
</div>

<style>
.wallpaper-no-crop img {
    width: 100%;
    height: auto;
    object-fit: contain !important;
    border-radius: 0 !important;
}

.wallpaper-price {
    font-size: 1rem;
    font-weight: 600;
    color: #a6a6a6;
    margin: 0.5rem 0 0 0;
}
</style>
{% endblock %}

{% block scripts %}
<script>
document.addEventListener('DOMContentLoaded', function() {
    const images = document.querySelectorAll('.poster-image img');
    images.forEach((img) => {
        if ('IntersectionObserver' in window) {
            const observer = new IntersectionObserver((entries) => {
                entries.forEach((entry) => {
                    if (entry.isIntersecting) {
                        const img = entry.target;
                        if (!img.src) img.src = img.dataset.src;
                        observer.unobserve(img);
                    }
                });
            });
            observer.observe(img);
        }
    });
});
</script>
{% endblock %}

{% block structured_data %}
<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "CollectionPage",
    "name": "Digital Wallpaper Collection",
    "description": "Premium digital wallpapers for instant download",
    "url": "{{ request.url }}",
    "mainEntity": {
        "@type": "ItemList",
        "numberOfItems": {{ wallpapers|length }},
        "itemListElement": [
            {% for wallpaper in wallpapers %}
            {
                "@type": "Product",
                "name": "{{ wallpaper.name }}",
                "image": "{{ wallpaper.image_url }}",
                "url": "{{ url_for('wallpaper_detail', wallpaper_id=wallpaper.id, _external=True) }}"
            }{% if not loop.last %},{% endif %}
            {% endfor %}
        ]
    }
}
</script>
{% endblock %}